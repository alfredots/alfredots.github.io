(this["webpackJsonpkrilow-photos"]=this["webpackJsonpkrilow-photos"]||[]).push([[4],{173:function(e,t,a){"use strict";a.r(t);var n=a(101),r=a.n(n),c=a(115),o=a(0),i=a.n(o),s=a(171),l=a(170),u=a(72),p=a(121),d=a.n(p),m=new RegExp(/<script type="text\/javascript">window\._sharedData = (.*);<\/script>/),f=function(e){var t,a,n,c;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.a.awrap(d.a.get(e));case 2:return t=o.sent,console.log(t),a=JSON.parse(t.data.match(m)[1]),n=a.entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges.splice(0,9),c=n.map((function(e){var t=e.node;return{url:"https://www.instagram.com/p/".concat(t.shortcode,"/"),thumbnailUrl:t.thumbnail_src,displayUrl:t.display_url,caption:t.edge_media_to_caption.edges[0].node.text}})),o.abrupt("return",c);case 8:case"end":return o.stop()}}))},g=a(71),h=a(50),b=a(169),w=a(168),E=a(39),v=a(138),j=a.n(v),y=a(172),O=a(148),x=a.n(O),k=a(149),_=Object(g.a)((function(e){return{root:{maxHeight:230,width:"100%"},img:{width:"100%"},imgModal:{width:"100%"}}})),C=function(e){var t=e.caption,a=e.displayUrl,n=e.id,r=_(),l=Object(o.useState)(!1),u=Object(c.a)(l,2),p=u[0],d=u[1],m=i.a.useState(!1),f=Object(c.a)(m,2),g=f[0],h=f[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{onChange:function(e){d(e),p?console.log("notVisible ".concat(n)):console.log("isVisible ".concat(n))},partialVisibility:!0,offset:{top:100,bottom:100}},i.a.createElement(j.a,{left:!0,when:p},i.a.createElement("img",{onClick:function(){return h(!0)},src:a,className:r.img,alt:t}))),i.a.createElement(y.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:g,onClose:function(){return h(!1)},onClick:function(){return h(!1)}},i.a.createElement(s.a,{height:1,width:1,display:"flex",alignItems:"center",justifyContent:"center"},i.a.createElement(k.b,null,i.a.createElement(k.a,null,i.a.createElement(j.a,null,i.a.createElement("img",{src:a,className:r.imgModal,alt:t})))))))};function S(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var N=Object(g.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:"100%",height:"100%"},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));t.default=function(){var e=N(),t=Object(o.useState)([]),a=Object(c.a)(t,2),n=a[0],p=a[1],d=Object(o.useState)(!1),m=Object(c.a)(d,2),g=m[0],v=m[1],j=Object(o.useState)(1),O=Object(c.a)(j,2),x=O[0],k=O[1],_=Object(o.useState)(""),F=Object(c.a)(_,2),P=F[0],q=F[1],I=i.a.useState(!1),J=Object(c.a)(I,2),L=J[0],U=J[1],V=i.a.useState(S),z=Object(c.a)(V,1)[0],H=function(){U(!1)};return Object(o.useEffect)((function(){var e=function(){var e=window.innerWidth;console.log(e),E.a.breakpoints.values.sm<e&&k(2),E.a.breakpoints.values.md<e&&k(3)};window.onresize=e,e()}),[]),Object(o.useEffect)((function(){r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=p,e.next=4,r.a.awrap(f("https://www.instagram.com/krilow_wallpapers"));case 4:e.t1=e.sent,(0,e.t0)(e.t1),v(!0),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),console.error("Fetching Instagram photos failed",e.t2);case 12:case"end":return e.stop()}}),null,null,[[0,9]])}),[]),g?i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{handleOpen:function(){U(!0)}}),i.a.createElement(s.a,{id:"caixa-principal",width:1,marginTop:4,className:e.root},i.a.createElement(w.a,{cellHeight:220,className:e.gridList,cols:x},n.map((function(t,a){return i.a.createElement(b.a,{id:a+"-GridList",key:a,className:e.root,cols:1},i.a.createElement(C,Object.assign({id:a},t)))})))),i.a.createElement(y.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:L,onClose:H},i.a.createElement("div",{style:z,className:e.paper},i.a.createElement("h2",{id:"simple-modal-title"},"Pesquise seu usu\xe1rio"),i.a.createElement("p",{id:"simple-modal-description"},"Caso seu instagram seja fechado n\xe3o ser\xe1 poss\xedvel realizar esta fun\xe7\xe3o."),i.a.createElement(l.a,{onChange:function(e){return q(e.target.value)}}),i.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(P),e.t0=p,e.next=5,r.a.awrap(f("https://www.instagram.com/".concat(P)));case 5:e.t1=e.sent,(0,e.t0)(e.t1),v(!0),H(),e.next=14;break;case 11:e.prev=11,e.t2=e.catch(0),console.error("Fetching Instagram photos failed",e.t2);case 14:case"end":return e.stop()}}),null,null,[[0,11]])}},"Pesquisar")))):i.a.createElement("div",null,"carregando...")}}}]);
//# sourceMappingURL=4.1eeebbdf.chunk.js.map