(this["webpackJsonpqr-code-reader"]=this["webpackJsonpqr-code-reader"]||[]).push([[0],{145:function(e,t,a){e.exports=a(251)},150:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(41),c=a.n(o),i=(a(150),a(43)),s=a(285),l=a(274),u=a(275),d=a(276),f=function(){return r.a.createElement(l.a,{position:"static"},r.a.createElement(u.a,null,r.a.createElement(d.a,{variant:"h6"},"Leitor de QR Codes")))},m=a(14),p=a.n(m),g=a(38),h=a(23),v=a(278),b=a(286),w=a(277),E=a(135),k=a(61);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{name:e,link:t,data:a,imgUrl:n,process:r,timestamp:(new Date).getTime()}}function x(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=a,n.readAsDataURL(e)}))}function j(e){return O.apply(this,arguments)}function O(){return(O=Object(h.a)(p.a.mark((function e(t){var a,n,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0},e.next=4,Object(E.a)(t,a);case 4:return n=e.sent,(r=new Image).src=URL.createObjectURL(n),e.next=9,x(n);case 9:return o=e.sent,e.abrupt("return",y(t.name,"",o,r));case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new k.BrowserQRCodeReader,e.prev=1,e.next=4,a.decodeFromImageUrl(t.imgUrl.src);case 4:return e.next=6,e.sent.text;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.abrupt("return","N\xe3o detectado");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var N=a(136);function A(e){var t,a=[],n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.process&&a.push({link:r.link,nome:r.name,data:r.timestamp})}}catch(o){n.e(o)}finally{n.f()}return a}function R(e){return U.apply(this,arguments)}function U(){return(U=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{Object(N.json2csv)(t,(function(e,t){console.log(t);var a=document.createElement("a");a.setAttribute("href","data:text/csv;charset=UTF-8,"+encodeURIComponent(t));var n=new Date,r=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),c=n.getFullYear(),i=String(n.getHours()),s=String(n.getMinutes()),l=String(n.getSeconds());n=r+"-"+o+"-"+c+"-"+i+":"+s+":"+l,a.setAttribute("download","relatorio-".concat(n,".csv")),document.body.appendChild(a),a.click()}))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=a(137),P=a.n(W),D=a(138);function L(e,t,a){var n,r=new P.a,o=Object(g.a)(t);try{for(o.s();!(n=o.n()).done;){var c=n.value;if(c.process===a){var i=c.data,s=i.indexOf(",");-1!==s&&(i=i.substring(s+1,i.length)),r.file(c.name,i,{base64:!0})}}}catch(l){o.e(l)}finally{o.f()}r.generateAsync({type:"blob"}).then((function(t){console.log(t);var a=new Date,n=String(a.getDate()).padStart(2,"0"),r=String(a.getMonth()+1).padStart(2,"0"),o=a.getFullYear(),c=String(a.getHours()),i=String(a.getMinutes()),s=String(a.getSeconds());a=n+"-"+r+"-"+o+"-"+c+":"+i+":"+s,Object(D.saveAs)(t,"".concat(e,"-").concat(a,".zip"))}))}var B=Object(n.createContext)(),F=Object(w.a)({root:{height:"20%"}});function I(e){return r.a.createElement(v.a,{item:!0,xs:3,container:!0,justify:"center",alignItems:"center"},e)}function z(e){var t,a,n,r=[];for(t=0,a=e.length;t<a;t+=10)n=e.slice(t,t+10),r.push(n);return r}var q=function(e){var t=e.data,a=F(),o=Object(n.useContext)(B),c=o.setData,s=o.setProgress,l=o.setStatus,u=Object(n.useState)(!0),d=Object(i.a)(u,2),f=d[0],m=d[1],w=function(){var e=Object(h.a)(p.a.mark((function e(t){var a,n,r,o,i,u,d,f,h,v,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files.length>0&&t.target.files.length<=2e3)){e.next=55;break}a=t.target.files,console.log(a),n=[],r=z(Array.from(a)),o=0,i=Object(g.a)(r),e.prev=7,i.s();case 9:if((u=i.n()).done){e.next=43;break}d=u.value,console.log("iniciando array"),f=Object(g.a)(d),e.prev=13,f.s();case 15:if((h=f.n()).done){e.next=32;break}return v=h.value,console.log("convertendo arquivo..."),e.next=20,j(v);case 20:return b=e.sent,console.log("detectando qr code..."),e.next=24,S(b);case 24:b.link=e.sent,"N\xe3o detectado"!==b.link&&(b.process=!0),console.log("salvando dado..."),n.push(b),o++,s(o/a.length*100);case 30:e.next=15;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(13),f.e(e.t0);case 37:return e.prev=37,f.f(),e.finish(37);case 40:console.log("finalizando array...");case 41:e.next=9;break;case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(7),i.e(e.t1);case 48:return e.prev=48,i.f(),e.finish(48);case 51:c(n),m(!1),e.next=56;break;case 55:t.target.files.length>=1500?l("Erro - ultrapassou m\xe1ximo de fotos"):l("Erro - nenhuma foto informada");case 56:case"end":return e.stop()}}),e,null,[[7,45,48,51],[13,34,37,40]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.length>0?R(A(t)):console.log("data vazio")}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.length>0?L("fotos-nao-detectadas",t,!1):console.log("data vazio")}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.length>0?L("fotos-detectadas",t,!0):console.log("data vazio")}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(v.a,{container:!0,className:a.root},I(r.a.createElement(b.a,{variant:"contained",color:"primary",component:"label"},"Buscar imagens",r.a.createElement("input",{id:"file-input",type:"file",hidden:!0,multiple:!0,onChange:function(e){return w(e)}}))),I(r.a.createElement(b.a,{variant:"contained",color:"primary",disabled:f,onClick:function(e){return y(e)}},"Fotos detectadas")),I(r.a.createElement(b.a,{variant:"contained",color:"primary",disabled:f,onClick:function(e){return k(e)}},"Fotos n\xe3o detectadas")),I(r.a.createElement(b.a,{variant:"contained",color:"primary",disabled:f,onClick:function(e){return E(e)}},"Baixar relat\xf3rio")))},M=a(288),T=Object(w.a)((function(e){return{root:{width:"100%",height:"8%",marginLeft:e.spacing(2),marginBottom:e.spacing(2)},text:{width:"35rem"}}}));var H=function(e){var t=e.progress,a=e.status,n=T();return r.a.createElement(v.a,{className:n.root,container:!0,justify:"center",alignItems:"center",xs:6},r.a.createElement(v.a,{item:!0,xs:10},r.a.createElement(d.a,{className:n.text},function(e){return"inicio"===e?"Progresso da detec\xe7\xe3o do QR code":"detectando links"===e?"Detectando links...":"Erro - nenhuma foto informada"===e?e+". Por favor indique as  imagens desejadas.":"Erro - ultrapassou m\xe1ximo de fotos"===e?e+". Por favor informe no m\xe1ximo 60 fotos.":"Finalizado processo detec\xe7\xe3o"}(a))),r.a.createElement(v.a,{item:!0,xs:10},r.a.createElement(M.a,{variant:"determinate",value:t})))},Q=a(280),J=a(284),Y=a(283),X=a(279),$=a(281),G=a(282),K=a(252),V=Object(w.a)({paper:{width:"90%",height:"55vh"},table:{width:"100%",overflowX:"hidden",tableLayout:"fixed"},tableCell:{wordBreak:"break-all"}}),Z=function(e){var t=e.data,a=V();return r.a.createElement(v.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(X.a,{component:K.a,className:a.paper,elevation:3},r.a.createElement(Q.a,{className:a.table,"aria-label":"simple table"},r.a.createElement($.a,null,r.a.createElement(G.a,null,r.a.createElement(Y.a,{className:a.tableCell},"Id"),r.a.createElement(Y.a,{className:a.tableCell},"Nome do Arquivo"),r.a.createElement(Y.a,{align:"center"},"Link encontrado"),r.a.createElement(Y.a,{align:"center"},"Processado"))),r.a.createElement(J.a,null,t.map((function(e,t){return r.a.createElement(G.a,{key:e.name},r.a.createElement(Y.a,{component:"th",scope:"row",className:a.tableCell},t+1),r.a.createElement(Y.a,{component:"th",scope:"row",className:a.tableCell},e.name),r.a.createElement(Y.a,{align:"center",className:a.tableCell},e.link),r.a.createElement(Y.a,{align:"center",className:a.tableCell},e.process?"detectado":"n\xe3o detectado"))}))))))};var _=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(1),l=Object(i.a)(c,2),u=l[0],d=l[1],m=Object(n.useState)("inicio"),p=Object(i.a)(m,2),g=p[0],h=p[1];return r.a.createElement(s.a,{width:"100vw",height:"100vh",style:{backgroundColor:"#EEEEEE"}},r.a.createElement(B.Provider,{value:{setData:o,setProgress:d,setStatus:h}},r.a.createElement(f,null),r.a.createElement(q,{data:a}),r.a.createElement(H,{progress:u,status:g}),r.a.createElement(Z,{data:a})))},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");ee?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):te(t,e)}))}}()}},[[145,1,2]]]);
//# sourceMappingURL=main.24ced1d4.chunk.js.map