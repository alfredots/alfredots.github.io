{"version":3,"sources":["store/Context.js","utils/storage.js","store/Provider.js","utils/useStorage.js","components/RoutesPrivate.js","components/AppBar.js","components/DataContext.js","utils/chunkedArray.js","controllers/PhotoController.js","components/SearchImageButton.js","controllers/ZipController.js","components/DetectedPhotoButton.js","components/RejectedPhotoButton.js","controllers/ReportController.js","components/ReportButton.js","layout/Forms.js","layout/ProgressBar.js","layout/Tables.js","pages/Home.js","pages/Login.js","App.js","serviceWorker.js","index.js"],"names":["StoreContext","createContext","token","setToken","storage","window","localStorage","Error","set","key","value","setItem","JSON","stringify","get","item","getItem","parse","e","remove","removeItem","Cookie","getJSON","StoreProvider","children","useState","state","setState","useCallback","newValue","undefined","useStorage","Context","Provider","RoutesPrivate","Component","component","rest","useContext","render","to","AppBar","position","Toolbar","Typography","variant","DataContext","array","i","j","temparray","newArrays","length","slice","push","createData","name","link","data","imgUrl","process","timestamp","Date","getTime","readFileAsync","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","createImageData","img","context","document","getElementById","getContext","filter","imageSmoothingEnabled","drawImage","imageData","getImageData","compressImage","a","options","maxSizeMB","maxWidthOrHeight","useWebWorker","imageCompression","createImage","fileImage","Image","src","URL","createObjectURL","implementGamma","gamma","imageGamma","adjustment","convertImageDataToImageHTML","imageFinal","createElement","setAttribute","imageFilterCore","convertImageDataToCanvasURL","convertFile","compressedImage","gammaImageData","console","log","getQRCode","BrowserQRCodeReader","decodeFromImageUrl","text","setReportStatus","setData","setProgress","setStatus","useEffect","totalProcessed","totalNonProcessed","current","message","onChangeHandler","files","target","tempArray","chunkedFiles","chunkedArray","Array","from","fileProcessed","separatedFiles","prevData","Button","color","id","type","hidden","multiple","onChange","zipPhotos","zipName","datas","processValue","zip","JSZip","d","b64","index","indexOf","substring","base64","generateAsync","then","content","today","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","hour","getHours","minutes","getMinutes","seconds","getSeconds","saveAs","reportStatus","onClickHandler","error","disabled","onClick","mountJSON","links","nome","generateCSV","json2csv","err","csv","encodeURIComponent","body","appendChild","click","useStyles","makeStyles","root","height","createFormContainer","Grid","xs","container","justify","alignItems","classes","className","SearchImageButton","DetectedPhotoButton","RejectedPhotoButton","ReportButton","theme","width","marginLeft","spacing","marginBottom","progress","status","setText","LinearProgress","paper","table","overflowX","tableLayout","tableCell","wordBreak","TableContainer","Paper","elevation","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","row","scope","Home","Box","style","backgroundColor","Forms","ProgressBar","Tables","display","initialState","user","password","Login","values","setValues","setError","history","useHistory","event","flexDirection","flexGrow","justifyContent","TextField","label","preventDefault","login","App","path","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","StrictMode","href","origin","addEventListener","fetch","headers","response","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.159c00d8.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst StoreContext = createContext({\n  token: null,\n  setToken: () => {},\n});\n\nexport default StoreContext;\n","import Cookie from 'js-cookie';\n\nconst storage = {};\n\n// Safari in incognito has local storage, but size 0\n// This system falls back to cookies in that situation\ntry {\n  if (!window.localStorage) {\n    throw Error('no local storage');\n  }\n\n  // Setup simple local storage wrapper\n  storage.set = (key, value) =>\n    localStorage.setItem(key, JSON.stringify(value));\n  storage.get = (key) => {\n    const item = localStorage.getItem(key);\n    try {\n      return JSON.parse(item);\n    } catch (e) {\n      return null;\n    }\n  };\n  storage.remove = (key) => localStorage.removeItem(key);\n} catch (e) {\n  storage.set = Cookie.set;\n  storage.get = Cookie.getJSON;\n  storage.remove = Cookie.remove;\n}\n\nexport default storage;\n","import React from 'react';\nimport Context from './Context';\nimport useStorage from '../utils/useStorage';\n\nconst StoreProvider = ({ children }) => {\n  const [token, setToken] = useStorage('token');\n\n  return (\n    <Context.Provider\n      value={{\n        token,\n        setToken,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n};\n\nexport default StoreProvider;\n","import { useCallback, useState } from 'react';\nimport storage from './storage';\n\nexport default function useStorage(key) {\n  const [state, setState] = useState(() => storage.get(key));\n\n  const set = useCallback(\n    (newValue) => {\n      storage.set(key, newValue);\n      setState(newValue);\n    },\n    [key],\n  );\n\n  const remove = useCallback(() => {\n    storage.remove(key);\n    setState(undefined);\n  }, [key]);\n\n  return [state, set, remove];\n}\n","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport StoreContext from '../store/Context';\n\nconst RoutesPrivate = ({ component: Component, ...rest }) => {\n  const { token } = useContext(StoreContext);\n\n  return (\n    <Route\n      {...rest}\n      render={() =>\n        token ? <Component {...rest} /> : <Redirect to='/login' />\n      }\n    />\n  );\n};\n\nexport default RoutesPrivate;\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport { Toolbar, Typography } from '@material-ui/core';\n\nexport default function () {\n  return (\n    <AppBar position='static'>\n      <Toolbar>\n        <Typography variant='h6'>Leitor de QR Codes</Typography>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import { createContext } from 'react';\n\nconst DataContext = createContext();\n\nexport default DataContext;\n","export default function (array) {\n  var newArrays = [];\n  var i,\n    j,\n    temparray,\n    chunk = 10;\n  for (i = 0, j = array.length; i < j; i += chunk) {\n    temparray = array.slice(i, i + chunk);\n    newArrays.push(temparray);\n  }\n  return newArrays;\n}\n","import imageCompression from 'browser-image-compression';\nimport { BrowserQRCodeReader } from '@zxing/library';\nimport imageFilterCore from 'image-filter-core';\nimport imageGamma from 'image-filter-gamma';\n\nfunction createData(name, link = '', data, imgUrl, process = false) {\n  return { name, link, data, imgUrl, process, timestamp: new Date().getTime() };\n}\n\nfunction readFileAsync(file) {\n  return new Promise((resolve, reject) => {\n    let reader = new FileReader();\n\n    reader.onload = () => {\n      resolve(reader.result);\n    };\n\n    reader.onerror = reject;\n\n    reader.readAsDataURL(file);\n  });\n}\n\nfunction createImageData(img) {\n  return new Promise((resolve, reject) => {\n    var canvas = document.getElementById('myCanvas');\n    var context = canvas.getContext('2d');\n    context.filter = 'contrast(130%) grayscale(100%)';\n    context.imageSmoothingEnabled = true;\n    img.onload = () => {\n      context.drawImage(img, 0, 0);\n\n      var imageData = context.getImageData(0, 0, 576, 1024);\n      resolve(imageData);\n    };\n    img.onerror = reject;\n  });\n}\n\nasync function compressImage(file) {\n  const options = {\n    maxSizeMB: 1,\n    maxWidthOrHeight: 1024,\n    useWebWorker: true,\n  };\n\n  return await imageCompression(file, options);\n}\n\nfunction createImage(fileImage) {\n  let img = new Image();\n  img.src = URL.createObjectURL(fileImage);\n  return img;\n}\n\nasync function implementGamma(imageData, gamma) {\n  return await imageGamma(imageData, { adjustment: gamma });\n}\n\nfunction convertImageDataToImageHTML(imageData) {\n  var imageFinal = document.createElement('img');\n  imageFinal.setAttribute(\n    'src',\n    imageFilterCore.convertImageDataToCanvasURL(imageData),\n  );\n\n  return imageFinal;\n}\n\nexport async function convertFile(file) {\n  try {\n    const compressedImage = await compressImage(file);\n    const img = createImage(compressedImage);\n    const data = await readFileAsync(compressedImage);\n    const imageData = await createImageData(img);\n    const gammaImageData = await implementGamma(imageData, 2);\n    const imageFinal = convertImageDataToImageHTML(gammaImageData);\n    //\n    var target = document.getElementById('myCanvas2');\n    //target.appendChild(imageFinal);\n    //\n    return createData(file.name, '', data, imageFinal);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getQRCode(imageData) {\n  const reader = new BrowserQRCodeReader(3000);\n  try {\n    return await (await reader.decodeFromImageUrl(imageData.imgUrl.src)).text;\n  } catch (error) {\n    console.log(error);\n  }\n  return 'Não detectado';\n}\n","import React, { useContext, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\nimport chunkedArray from '../utils/chunkedArray';\nimport { getQRCode, convertFile } from '../controllers/PhotoController';\nimport DataContext from './DataContext';\n\nexport default function ({ setReportStatus, data }) {\n  const { setData, setProgress, setStatus } = useContext(DataContext);\n\n  useEffect(() => {\n    if (data.length !== 0) {\n      console.log('aaaaa');\n      const totalProcessed = data.filter((value) => value.process);\n      const totalNonProcessed = data.filter((value) => !value.process);\n\n      setStatus({\n        current: 'finish',\n        message: `Finalizado - Total:${data.length} - Detectadas: ${totalProcessed.length} - Não-detectadas: ${totalNonProcessed.length}`,\n      });\n    }\n  }, [data, setStatus]);\n\n  const onChangeHandler = async (e) => {\n    const files = e.target.files;\n    if (files.length > 0 && files.length <= 2000) {\n      const tempArray = [];\n      const chunkedFiles = chunkedArray(Array.from(files));\n      let fileProcessed = 0;\n      for (let separatedFiles of chunkedFiles) {\n        for (let file of separatedFiles) {\n          //converter tipo File para o formato imageData\n          let imageData = await convertFile(file);\n          //detectando o link do qrCode\n          imageData.link = await getQRCode(imageData);\n          //\n          if (imageData.link !== 'Não detectado') {\n            imageData.process = true;\n          }\n          //Salvando dado\n          tempArray.push(imageData);\n          fileProcessed++;\n          setProgress((fileProcessed / files.length) * 100);\n          setStatus({\n            current: 'processing',\n            message: `Processando imagem e detectando qr code (${fileProcessed}/${files.length})`,\n          });\n        }\n      }\n      setData((prevData) => [...prevData, ...tempArray]);\n\n      setReportStatus(false);\n    } else if (files.length >= 1500) {\n      setStatus({\n        current: 'maxPhoto',\n        message: 'Erro - ultrapassou máximo de fotos',\n      });\n    } else {\n      setStatus('Erro - nenhuma foto informada');\n    }\n  };\n\n  return (\n    <Button variant='contained' color='primary' component='label'>\n      Buscar imagens\n      <input\n        id='file-input'\n        type='file'\n        hidden\n        multiple\n        onChange={(e) => onChangeHandler(e)}\n      />\n    </Button>\n  );\n}\n","import JSZip from 'jszip';\nimport { saveAs } from 'file-saver';\n\nexport function zipPhotos(zipName, datas, processValue) {\n  const zip = new JSZip();\n\n  for (let d of datas) {\n    if (d.process === processValue) {\n      let b64 = d.data;\n      let index = b64.indexOf(',');\n      if (index !== -1) {\n        b64 = b64.substring(index + 1, b64.length);\n      }\n      zip.file(d.name, b64, { base64: true });\n    }\n  }\n\n  zip.generateAsync({ type: 'blob' }).then(function (content) {\n    console.log(content);\n    // see FileSaver.js\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, '0');\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n    var yyyy = today.getFullYear();\n    var hour = String(today.getHours());\n    var minutes = String(today.getMinutes());\n    var seconds = String(today.getSeconds());\n\n    today =\n      dd + '-' + mm + '-' + yyyy + '-' + hour + ':' + minutes + ':' + seconds;\n    saveAs(content, `${zipName}-${today}.zip`);\n  });\n}\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { zipPhotos } from '../controllers/ZipController';\n\nexport default function ({ data, reportStatus }) {\n  const onClickHandler = async (e) => {\n    try {\n      if (data.length > 0) {\n        zipPhotos('fotos-detectadas', data, true);\n      } else {\n        console.log('data vazio');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Button\n      variant='contained'\n      color='primary'\n      disabled={reportStatus}\n      onClick={(e) => onClickHandler(e)}\n    >\n      Fotos detectadas\n    </Button>\n  );\n}\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { zipPhotos } from '../controllers/ZipController';\n\nexport default function ({ data, reportStatus }) {\n  const onClickHandler = async (e) => {\n    try {\n      if (data.length > 0) {\n        zipPhotos('fotos-nao-detectadas', data, false);\n      } else {\n        console.log('data vazio');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Button\n      variant='contained'\n      color='primary'\n      disabled={reportStatus}\n      onClick={(e) => onClickHandler(e)}\n    >\n      Fotos não detectadas\n    </Button>\n  );\n}\n","import { json2csv } from 'json-2-csv';\n\nexport function mountJSON(data) {\n  const links = [];\n  for (let d of data) {\n    if (d.process) {\n      links.push({\n        link: d.link,\n        nome: d.name,\n        data: d.timestamp,\n      });\n    }\n  }\n  return links;\n}\n\nfunction downloadFile(fileName, urlData) {\n  var aLink = document.createElement('a');\n  var evt = document.createEvent('HTMLEvents');\n  evt.initEvent('click');\n  aLink.download = fileName;\n  aLink.href = urlData;\n  window.location.href = urlData;\n  aLink.dispatchEvent(evt);\n}\n\nexport async function generateCSV(data) {\n  try {\n    json2csv(data, (err, csv) => {\n      console.log(csv);\n      var link = document.createElement('a');\n      link.setAttribute(\n        'href',\n        'data:text/csv;charset=UTF-8,' + encodeURIComponent(csv),\n      );\n      //\n      var today = new Date();\n      var dd = String(today.getDate()).padStart(2, '0');\n      var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n      var yyyy = today.getFullYear();\n      var hour = String(today.getHours());\n      var minutes = String(today.getMinutes());\n      var seconds = String(today.getSeconds());\n\n      today =\n        dd + '-' + mm + '-' + yyyy + '-' + hour + ':' + minutes + ':' + seconds;\n      //\n      link.setAttribute('download', `relatorio-${today}.csv`);\n      document.body.appendChild(link);\n\n      link.click();\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { mountJSON, generateCSV } from '../controllers/ReportController';\n\nexport default function ({ data, reportStatus }) {\n  const onClickHandler = async (e) => {\n    try {\n      if (data.length > 0) {\n        const jsonData = mountJSON(data);\n        generateCSV(jsonData);\n      } else {\n        console.log('data vazio');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Button\n      variant='contained'\n      color='primary'\n      disabled={reportStatus}\n      onClick={(e) => onClickHandler(e)}\n    >\n      Baixar relatório\n    </Button>\n  );\n}\n","import React, { useContext, useState } from 'react';\nimport { Button, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DataContext from '../components/DataContext';\nimport SearchImageButton from '../components/SearchImageButton';\nimport DetectedPhotoButton from '../components/DetectedPhotoButton';\nimport RejectedPhotoButton from '../components/RejectedPhotoButton';\nimport ReportButton from '../components/ReportButton';\n\nconst useStyles = makeStyles({\n  root: {\n    height: '20%',\n  },\n});\n\nfunction createFormContainer(content) {\n  return (\n    <Grid item xs={3} container justify='center' alignItems='center'>\n      {content}\n    </Grid>\n  );\n}\n\nexport default function ({ data }) {\n  const classes = useStyles();\n  const [reportStatus, setReportStatus] = useState(true);\n\n  return (\n    <Grid container className={classes.root}>\n      {createFormContainer(\n        <SearchImageButton data={data} setReportStatus={setReportStatus} />,\n      )}\n      {createFormContainer(\n        <DetectedPhotoButton data={data} reportStatus={reportStatus} />,\n      )}\n      {createFormContainer(\n        <RejectedPhotoButton data={data} reportStatus={reportStatus} />,\n      )}\n      {createFormContainer(\n        <ReportButton data={data} reportStatus={reportStatus} />,\n      )}\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    height: '8%',\n    marginLeft: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  text: {\n    width: '35rem',\n  },\n}));\n\nfunction setText(status) {\n  return status.message;\n}\n\nexport default function ({ progress, status }) {\n  const classes = useStyles();\n  return (\n    <Grid\n      className={classes.root}\n      container\n      justify='center'\n      alignItems='center'\n      xs={6}\n    >\n      <Grid item xs={10}>\n        <Typography className={classes.text}>{setText(status)}</Typography>\n      </Grid>\n      <Grid item xs={10}>\n        <LinearProgress variant='determinate' value={progress} />\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\n//import TablePagination from '@material-ui/core/TablePagination';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles({\n  paper: {\n    width: '90%',\n    height: '55vh',\n  },\n  table: {\n    width: '100%',\n    overflowX: 'hidden',\n    tableLayout: 'fixed',\n  },\n  tableCell: {\n    wordBreak: 'break-all',\n  },\n});\n\nexport default function ({ data }) {\n  const classes = useStyles();\n\n  return (\n    <Grid container justify='center' alignItems='center'>\n      <TableContainer component={Paper} className={classes.paper} elevation={3}>\n        <Table className={classes.table} aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n              <TableCell className={classes.tableCell}>Id</TableCell>\n              <TableCell className={classes.tableCell}>\n                Nome do Arquivo\n              </TableCell>\n              <TableCell align='center'>Link encontrado</TableCell>\n              <TableCell align='center'>Processado</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data.map((row, index) => (\n              <TableRow key={row.name}>\n                <TableCell\n                  component='th'\n                  scope='row'\n                  className={classes.tableCell}\n                >\n                  {index + 1}\n                </TableCell>\n                <TableCell\n                  component='th'\n                  scope='row'\n                  className={classes.tableCell}\n                >\n                  {row.name}\n                </TableCell>\n                <TableCell align='center' className={classes.tableCell}>\n                  {row.link}\n                </TableCell>\n                <TableCell align='center' className={classes.tableCell}>\n                  {row.process ? 'detectado' : 'não detectado'}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Grid>\n  );\n}\n","import React, { useState } from 'react';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '../components/AppBar';\nimport Forms from '../layout/Forms';\nimport ProgressBar from '../layout/ProgressBar';\nimport Tables from '../layout/Tables';\nimport DataContext from '../components/DataContext';\n\nfunction Home() {\n  const [data, setData] = useState([]);\n  const [progress, setProgress] = useState(1);\n  const [status, setStatus] = useState({\n    current: 'init',\n    message: 'Progresso da detecção do QR code',\n  });\n\n  return (\n    <Box\n      width={'100vw'}\n      height={'100vh'}\n      style={{ backgroundColor: '#EEEEEE' }}\n    >\n      <DataContext.Provider value={{ data, setData, setProgress, setStatus }}>\n        <AppBar />\n        <Forms data={data} />\n        <ProgressBar progress={progress} status={status} />\n        <Tables data={data} />\n        <canvas\n          id='myCanvas'\n          width='576'\n          height='1024'\n          style={{ display: 'none' }}\n        />\n        <div id='myCanvas2' width='576' height='1024' />\n      </DataContext.Provider>\n    </Box>\n  );\n}\n\nexport default Home;\n","import React, { useState, useContext } from 'react';\nimport StoreContext from '../store/Context';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '../components/AppBar';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport { Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\n\nfunction initialState() {\n  return { user: '', password: '' };\n}\n\nfunction login({ user, password }) {\n  if (user === 'admin' && password === 'qr2020@!') {\n    return { token: '1234' };\n  }\n  return { error: 'Usuário ou senha inválido' };\n}\n\nfunction Login() {\n  const [values, setValues] = useState(initialState);\n  const [error, setError] = useState(null);\n  const { setToken } = useContext(StoreContext);\n  const history = useHistory();\n\n  function onChange(event) {\n    console.log('ta changeando');\n    const { value, name } = event.target;\n\n    setValues({\n      ...values,\n      [name]: value,\n    });\n    console.log(values);\n  }\n\n  function onSubmit(event) {\n    console.log('ta submitando');\n    event.preventDefault();\n\n    const { token, error } = login(values);\n\n    if (token) {\n      setToken(token);\n      return history.push('/');\n    }\n\n    setError(error);\n    setValues(initialState);\n  }\n\n  return (\n    <Box\n      width={'100vw'}\n      height={'100vh'}\n      style={{ backgroundColor: '#EEEEEE' }}\n      display='flex'\n      flexDirection='column'\n    >\n      <AppBar />\n      <Box\n        width={1}\n        flexGrow={1}\n        display='flex'\n        alignItems='center'\n        justifyContent='center'\n      >\n        <Box\n          component={Paper}\n          elevation={3}\n          width='400px'\n          height='300px'\n          display='flex'\n          flexDirection='column'\n          alignItems='center'\n          justifyContent='space-around'\n        >\n          <TextField\n            label='Usuário'\n            variant='outlined'\n            type='text'\n            name='user'\n            onChange={onChange}\n            value={values.user}\n          />\n          <TextField\n            label='Senha'\n            variant='outlined'\n            name='password'\n            type='password'\n            onChange={onChange}\n            value={values.password}\n          />\n          {error && <div className='user-login__error'>{error}</div>}\n          <Button variant='contained' color='primary' onClick={onSubmit}>\n            Entrar\n          </Button>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport StoreProvider from './store/Provider';\nimport RoutesPrivate from './components/RoutesPrivate';\nimport Home from './pages/Home';\nimport Login from './pages/Login';\n\nconst App = () => (\n  <Router>\n    <StoreProvider>\n      <Switch>\n        <Route path='/login' component={Login} />\n        <RoutesPrivate path='/' component={Home} />\n      </Switch>\n    </StoreProvider>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}